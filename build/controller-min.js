angular.module("mep",[]).controller("mepcontroller",function(o,e,t,l){function n(e,l){var n=e+".groups.votes.ep_id="+l;console.log(n);var s="$select[]=title&$select[]=eptitle&$select[]=ts&$select[]=voteid&$select[]="+e+".groups.votes.$."+l;t.get("/api/votes/?"+n+"&$limit=10$skip=0&$sort[ts]=-1&"+s).then(function(t){console.log(t.data);for(var l=0;l<t.data.data.length;l++)t.data.data[l].vote=e;o.votings=o.votings.concat(t.data.data),console.log(o.votings)})}var s=["Against","For","Abstain"];o.votings=[],console.log("mepcontroller"),e.loading=!0,t.get("/api/meps/"+l.userid).then(function(t){console.log(t),o.mep=t.data,e.loading=!1},function(o){console.log(o),e.loading=!1}),o.select=function(e){console.log("--day--",e),o.selectedday=e};for(var a=("Against.groups.votes.ep_id="+l.userid,0);a<s.length;a++){var i=s[a];console.log(i),n(i,l.userid)}});